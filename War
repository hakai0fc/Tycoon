--Load Orion Library
local OrionLib = loadstring(game:HttpGet('https://raw.githubusercontent.com/hakaiofc/Base/main/HUBORION'))()

--ANTI AFK
pcall(function()
    local VirtualUser = game:service'VirtualUser'
    game:service'Players'.LocalPlayer.Idled:connect(function()
        VirtualUser:CaptureController()
        VirtualUser:ClickButton2(Vector2.new())
    end)
end)

--GLOBALS
local LP = game.Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")

--Criando Interface
local Window = OrionLib:MakeWindow({
    Name = "HAKAI WAR",
    HidePremium = false,
    SaveConfig = true,
    ConfigFolder = "OrionTest",
    IntroEnabled = false
})

local HubExclusivoTab = Window:MakeTab({
    Name = "TP BASES",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

HubExclusivoTab:AddSection({ Name = "AUTO-TP" })

HubExclusivoTab:AddButton({
    Name = "TP ARVORE KOTH",
    Callback = function()
        local destino = Vector3.new(-274, 558, -366) 
        if LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") then
            LP.Character:MoveTo(destino)
        else
            warn("Personagem não encontrado ou carregando...")
        end
    end
})
HubExclusivoTab:AddButton({
    Name = "TP ARVORE KOTH2",
    Callback = function()
        local destino = Vector3.new(-272, 561, -246) 
        if LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") then
            LP.Character:MoveTo(destino)
        else
            warn("Personagem não encontrado ou carregando...")
        end
    end
})
HubExclusivoTab:AddButton({
    Name = "TP ALPHA",
    Callback = function()
        local destino = Vector3.new(-278, 435, 173) 
        if LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") then
            LP.Character:MoveTo(destino)
        else
            warn("Personagem não encontrado ou carregando...")
        end
    end
})
HubExclusivoTab:AddButton({
    Name = "TP BRAVO",
    Callback = function()
        local destino = Vector3.new(-620, 435, 38) 
        if LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") then
            LP.Character:MoveTo(destino)
        else
            warn("Personagem não encontrado ou carregando...")
        end
    end
})
HubExclusivoTab:AddButton({
    Name = "TP CHARLIE",
    Callback = function()
        local destino = Vector3.new(-773, 435, -319) 
        if LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") then
            LP.Character:MoveTo(destino)
        else
            warn("Personagem não encontrado ou carregando...")
        end
    end
})
HubExclusivoTab:AddButton({
    Name = "TP DELTA",
    Callback = function()
        local destino = Vector3.new(-623, 435, -680) 
        if LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") then
            LP.Character:MoveTo(destino)
        else
            warn("Personagem não encontrado ou carregando...")
        end
    end
})
HubExclusivoTab:AddButton({
    Name = "TP ECHO",
    Callback = function()
        local destino = Vector3.new(-276, 435, -821) 
        if LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") then
            LP.Character:MoveTo(destino)
        else
            warn("Personagem não encontrado ou carregando...")
        end
    end
})
HubExclusivoTab:AddButton({
    Name = "TP FOXTROT",
    Callback = function()
        local destino = Vector3.new(83, 435, -700) 
        if LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") then
            LP.Character:MoveTo(destino)
        else
            warn("Personagem não encontrado ou carregando...")
        end
    end
})
HubExclusivoTab:AddButton({
    Name = "TP HOTEL",
    Callback = function()
        local destino = Vector3.new(233, 435, -338) 
        if LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") then
            LP.Character:MoveTo(destino)
        else
            warn("Personagem não encontrado ou carregando...")
        end
    end
})
HubExclusivoTab:AddButton({
    Name = "TP OMEGA",
    Callback = function()
        local destino = Vector3.new(76, 435, 43) 
        if LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") then
            LP.Character:MoveTo(destino)
        else
            warn("Personagem não encontrado ou carregando...")
        end
    end
})
local TeleportTab = Window:MakeTab({
    Name = "TP TORRE TAB",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

TeleportTab:AddSection({ Name = "TP-TORRE" })

TeleportTab:AddButton({
    Name = "APLHA TORRE",
    Callback = function()
        local destino = Vector3.new(-360, 435, 132) 
        if LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") then
            LP.Character:MoveTo(destino)
        else
            warn("Personagem não encontrado ou carregando...")
        end
    end
})
TeleportTab:AddButton({
    Name = "BRAVO TORRE",
    Callback = function()
        local destino = Vector3.new(-645, 435, -53) 
        if LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") then
            LP.Character:MoveTo(destino)
        else
            warn("Personagem não encontrado ou carregando...")
        end
    end
})
TeleportTab:AddButton({
    Name = "CHARLIE TORRE",
    Callback = function()
        local destino = Vector3.new(-532, 435, -706)
        if LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") then
            LP.Character:MoveTo(destino)
        else
            warn("Personagem não encontrado ou carregando...")
        end
    end
})
TeleportTab:AddButton({
    Name = "DELTA TORRE",
    Callback = function()
        local destino = Vector3.new(-532, 435, -706) 
        if LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") then
            LP.Character:MoveTo(destino)
        else
            warn("Personagem não encontrado ou carregando...")
        end
    end
})
TeleportTab:AddButton({
    Name = "ECHO TORRE",
    Callback = function()
        local destino = Vector3.new(-191, 435, -774) 
        if LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") then
            LP.Character:MoveTo(destino)
        else
            warn("Personagem não encontrado ou carregando...")
        end
    end
})
TeleportTab:AddButton({
    Name = "FOXTROT TORRE",
    Callback = function()
        local destino = Vector3.new(108, 435, -611) 
        if LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") then
            LP.Character:MoveTo(destino)
        else
            warn("Personagem não encontrado ou carregando...")
        end
    end
})
TeleportTab:AddButton({
    Name = "HOTEL TORRE",
    Callback = function()
        local destino = Vector3.new(189, 435, -255) 
        if LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") then
            LP.Character:MoveTo(destino)
        else
            warn("Personagem não encontrado ou carregando...")
        end
    end
})
TeleportTab:AddButton({
    Name = "OMEGA TORRE",
    Callback = function()
        local destino = Vector3.new(-13, 435, 69) 
        if LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") then
            LP.Character:MoveTo(destino)
        else
            warn("Personagem não encontrado ou carregando...")
        end
    end
})
local InfiniteYieldTab = Window:MakeTab({
    Name = "FUNÇÕES A+",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

InfiniteYieldTab:AddSection({ Name = "FUNÇÕES ADICIONAIS" })

InfiniteYieldTab:AddButton({
    Name = "AimBot",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/hakai0fc/Aim/refs/heads/main/Bot"))()
    end
})
InfiniteYieldTab:AddButton({
    Name = "AMMO HACK",
    Callback = function()
        local player = game.Players.LocalPlayer
        if not player then return end

        local function hackRepValues(repValues)
            local function updateValue(valueName)
                local value = repValues:FindFirstChild(valueName)
                if value and value:IsA("IntValue") then
                    value.Value = 9999999999
                else
                    repValues.ChildAdded:Connect(function(child)
                        if child.Name == valueName and child:IsA("IntValue") then
                            child.Value = 9999999999
                        end
                    end)
                end
            end

            updateValue("Mag")
            updateValue("StoredAmmo")
        end

        local function hackTool(tool)
            if tool:IsA("Tool") then
                local repValues = tool:FindFirstChild("RepValues")
                if repValues then
                    hackRepValues(repValues)
                else
                    tool.ChildAdded:Connect(function(child)
                        if child.Name == "RepValues" then
                            hackRepValues(child)
                        end
                    end)
                end
            end
        end

        for _, tool in ipairs(player.Backpack:GetChildren()) do
            hackTool(tool)
        end

        if player.Character then
            for _, tool in ipairs(player.Character:GetChildren()) do
                hackTool(tool)
            end
        end

        player.Backpack.ChildAdded:Connect(hackTool)
        if player.Character then
            player.Character.ChildAdded:Connect(hackTool)
        end

        OrionLib:MakeNotification({
            Name = "Ammo Hack",
            Content = "✅ Munição infinita em todas armas!",
            Image = "rbxassetid://4483345998",
            Time = 2
        })
    end
})
InfiniteYieldTab:AddButton({
    Name = "ANTI LAG",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/hakai0fc/ANTILAG/refs/heads/main/HAKAI"))()
    end
})
InfiniteYieldTab:AddButton({
    Name = "HAKAI ESP",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/hakai0fc/ESP/refs/heads/main/HAKAI"))()
    end
})
InfiniteYieldTab:AddButton({
    Name = "InfiniteYield",
    Callback = function()
        loadstring(game:HttpGet('https://raw.githubusercontent.com/hakai0fc/EdgeIY/refs/heads/main/infiniteyield'))()
    end
})

local FuncoesEspeciaisTab = Window:MakeTab({
    Name = "FUNÇÕES OP",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

FuncoesEspeciaisTab:AddSection({ Name = "PODERES" })

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local player = Players.LocalPlayer

local flyAtivo, noclipAtivo = false, false
local flySpeed = 50
local flyConn, noclipConn
local BG, BV

local function safeDestroy(obj)
	if obj and obj.Parent then
		pcall(function() obj:Destroy() end)
	end
end

local function limparForcas(char)
	if not char then return end
	local root = char:FindFirstChild("HumanoidRootPart")
	if root then
		for _,v in pairs(root:GetChildren()) do
			if v:IsA("BodyVelocity") or v:IsA("BodyGyro") then
				safeDestroy(v)
			end
		end
		root.Velocity = Vector3.zero
	end
end

local function resetarAnimacoes(char)
	if not char then return end
	local humanoid = char:FindFirstChildOfClass("Humanoid")
	local animate = char:FindFirstChild("Animate")
	if humanoid and animate then
		animate.Disabled = true
		task.wait(0.05)
		animate.Disabled = false
		humanoid:ChangeState(Enum.HumanoidStateType.Running)
	end
end

local function restaurarPadrao(char)
	if not char then return end
	local humanoid = char:FindFirstChildOfClass("Humanoid")
	local root = char:FindFirstChild("HumanoidRootPart")
	if not humanoid or not root then return end
	safeDestroy(BG)
	safeDestroy(BV)
	if flyConn then flyConn:Disconnect() flyConn = nil end
	if noclipConn then noclipConn:Disconnect() noclipConn = nil end
	humanoid.PlatformStand = false
	humanoid.AutoRotate = true
	humanoid.WalkSpeed = 16
	humanoid.JumpPower = 50
	for _, part in pairs(char:GetDescendants()) do
		if part:IsA("BasePart") and not part.Anchored then
			part.CanCollide = true
		end
	end
	root.Anchored = false
	root.Velocity = Vector3.zero
	resetarAnimacoes(char)
end

local function corrigirBugInicial()
	local char = player.Character or player.CharacterAdded:Wait()
	local humanoid = char:FindFirstChildOfClass("Humanoid")
	local root = char:WaitForChild("HumanoidRootPart")
	if flyConn then flyConn:Disconnect() flyConn = nil end
	if noclipConn then noclipConn:Disconnect() noclipConn = nil end
	safeDestroy(BG)
	safeDestroy(BV)
	limparForcas(char)
	root.Anchored = false
	humanoid.PlatformStand = false
	humanoid.AutoRotate = true
	humanoid.WalkSpeed = 16
	humanoid.JumpPower = 50
	for _, p in pairs(char:GetDescendants()) do
		if p:IsA("BasePart") then p.CanCollide = true end
	end
	resetarAnimacoes(char)
end

local function ativarNoclip(state)
	local char = player.Character
	if not char then return end
	if noclipConn then noclipConn:Disconnect() noclipConn = nil end
	noclipAtivo = state
	if noclipAtivo then
		noclipConn = RunService.Stepped:Connect(function()
			for _, part in pairs(char:GetDescendants()) do
				if part:IsA("BasePart") and not part.Anchored then
					part.CanCollide = false
				end
			end
		end)
		OrionLib:MakeNotification({
			Name = "Noclip",
			Content = "✅ Noclip ativado!",
			Image = "rbxassetid://4483345998",
			Time = 2
		})
	else
		restaurarPadrao(char)
		OrionLib:MakeNotification({
			Name = "Noclip",
			Content = "❌ Noclip desativado!",
			Image = "rbxassetid://4483345998",
			Time = 2
		})
	end
end

local function ativarFly(state)
	local char = player.Character
	if not char then return end
	local humanoid = char:FindFirstChildOfClass("Humanoid")
	local root = char:FindFirstChild("HumanoidRootPart")
	if not humanoid or not root then return end
	if flyConn then flyConn:Disconnect() flyConn = nil end
	safeDestroy(BG)
	safeDestroy(BV)
	flyAtivo = state
	if flyAtivo then
		limparForcas(char)
		humanoid.PlatformStand = true
		humanoid.AutoRotate = false
		humanoid.WalkSpeed = 0
		humanoid.JumpPower = 0
		BG = Instance.new("BodyGyro")
		BG.P = 9e4
		BG.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
		BG.CFrame = root.CFrame
		BG.Parent = root
		BV = Instance.new("BodyVelocity")
		BV.MaxForce = Vector3.new(9e9, 9e9, 9e9)
		BV.Velocity = Vector3.zero
		BV.Parent = root
		flyConn = RunService.RenderStepped:Connect(function()
			if not flyAtivo then return end
			local cam = workspace.CurrentCamera
			local move = Vector3.zero
			if UserInputService:IsKeyDown(Enum.KeyCode.W) then move += cam.CFrame.LookVector end
			if UserInputService:IsKeyDown(Enum.KeyCode.S) then move -= cam.CFrame.LookVector end
			if UserInputService:IsKeyDown(Enum.KeyCode.A) then move -= cam.CFrame.RightVector end
			if UserInputService:IsKeyDown(Enum.KeyCode.D) then move += cam.CFrame.RightVector end
			if UserInputService:IsKeyDown(Enum.KeyCode.Space) then move += Vector3.new(0,1,0) end
			if UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) then move -= Vector3.new(0,1,0) end
			BV.Velocity = move.Magnitude > 0 and move.Unit * flySpeed or Vector3.zero
			BG.CFrame = CFrame.new(root.Position, root.Position + cam.CFrame.LookVector)
		end)
		OrionLib:MakeNotification({
			Name = "Fly",
			Content = "✅ Fly ativado!",
			Image = "rbxassetid://4483345998",
			Time = 2
		})
	else
		restaurarPadrao(char)
		OrionLib:MakeNotification({
			Name = "Fly",
			Content = "❌ Fly desativado!",
			Image = "rbxassetid://4483345998",
			Time = 2
		})
	end
end

local function mudarVelocidade(valor)
	flySpeed = math.clamp(valor, 1, 2500)
end

task.defer(corrigirBugInicial)

player.CharacterAdded:Connect(function()
	task.wait(1)
	corrigirBugInicial()
end)

RunService.Heartbeat:Connect(function()
	local char = player.Character
	if not char then return end
	local root = char:FindFirstChild("HumanoidRootPart")
	local humanoid = char:FindFirstChildOfClass("Humanoid")
	if not humanoid or not root then return end
	if (not flyAtivo and not noclipAtivo) and (root.Anchored or humanoid.PlatformStand) then
		restaurarPadrao(char)
	end
end)

FuncoesEspeciaisTab:AddToggle({Name = "Noclip", Default = false, Save = false, Callback = ativarNoclip})
FuncoesEspeciaisTab:AddToggle({Name = "Fly", Default = false, Save = false, Callback = ativarFly})
FuncoesEspeciaisTab:AddSlider({
	Name = "Fly Speed",
	Min = 1,
	Max = 2500,
	Default = 50,
	Increment = 1,
	Color = Color3.fromRGB(255,255,255),
	Callback = mudarVelocidade
})